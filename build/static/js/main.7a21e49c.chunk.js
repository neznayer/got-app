(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,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"},38:function(e,t,a){e.exports=a(64)},48:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),A=a(28),c=a.n(A),l=a(4),o=a(5),i=a(7),s=a(6),u=a(8),h=a(67),m=a(65),E=a(66),p=a(19),g=a(20),f=a(15);function d(){var e=Object(p.a)(["\n    display: flex;\n    margin: 0;\n    align-items: center;\n    color: #fff;\n    list-style-type: none;\n    li {\n        margin-right: 20px;\n        font-size: 18px;\n    }\n"]);return d=function(){return e},e}function C(){var e=Object(p.a)(["\n    font-size: 24px;\n    color: #fff;\n    margin: 0;\n"]);return C=function(){return e},e}function I(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 80px;\n"]);return I=function(){return e},e}var v=g.a.div(I()),Q=g.a.h3(C()),w=g.a.ul(d()),b=function(){return r.a.createElement(v,null,r.a.createElement(Q,null,r.a.createElement(f.b,{to:"/"},"Game of Thrones DB")),r.a.createElement(w,null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/characters/"},"Characters")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/houses/"},"Houses")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/books/"}," Books "))))},B=(a(48),a(9)),D=a.n(B),y=a(16),Y=function e(){var t=this;Object(l.a)(this,e),this.getRes=function(){var e=Object(y.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("could not fetch ".concat(a,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(y.a)(D.a.mark(function e(){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("characters/?page=5&pageSize=10");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformCharacter));case 4:case"end":return e.stop()}},e)})),this.getCharacter=function(){var e=Object(y.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("characters/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformCharacter(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(y.a)(D.a.mark(function e(){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("houses/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformHouse));case 4:case"end":return e.stop()}},e)})),this.getHouse=function(){var e=Object(y.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("houses/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformHouse(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(y.a)(D.a.mark(function e(){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("books/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformBook));case 4:case"end":return e.stop()}},e)})),this.getBook=function(){var e=Object(y.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("books/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformBook(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this._parseEmptyData=function(e){return e||"no data"},this._parseId=function(e){return e.match(/\d+$/)[0]},this._transformCharacter=function(e){return{name:t._parseEmptyData(e.name),gender:t._parseEmptyData(e.gender),born:t._parseEmptyData(e.born),died:t._parseEmptyData(e.died),culture:t._parseEmptyData(e.culture),key:t._parseId(e.url)}},this._transformHouse=function(e){return{name:t._parseEmptyData(e.name),region:t._parseEmptyData(e.region),words:t._parseEmptyData(e.words),key:t._parseId(e.url)}},this._transformBook=function(e){return{name:t._parseEmptyData(e.name),isbn:t._parseEmptyData(e.isbn),numberOfPages:t._parseEmptyData(e.numberOfPages),publisher:t._parseEmptyData(e.publisher),county:t._parseEmptyData(e.publisher),mediaType:t._parseEmptyData(e.mediaType),key:t._parseId(e.url)}},this._apiBase="https://www.anapioficeandfire.com/api/"},G=(a(52),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-cz6kfjoaxro"},r.a.createElement("div",{className:"ldio-dvm3q5hann"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),O=(a(54),a(32)),j=a.n(O),k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:j.a,alt:"error"}),r.a.createElement("span",null,"Somethingwent wrong"))},M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new Y,a.state={char:{},loading:!0,error:!1},a.onError=function(e){a.setState({error:!0,loading:!1})},a.updateCharacter=function(){var e=Math.floor(140*Math.random()+25);a.gotService.getCharacter(e).then(function(e){a.onCharLoaded(e)}).catch(a.onError)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onCharLoaded",value:function(e){this.setState({char:e,loading:!1,error:!1})}},{key:"componentDidMount",value:function(){this.updateCharacter(),this.timerId=setInterval(this.updateCharacter,this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.char,a=e.loading,n=e.error,A=n?r.a.createElement(k,null):null,c=a?r.a.createElement(G,null):null,l=a||n?null:r.a.createElement(S,{char:t});return r.a.createElement("div",{className:"random-block rounded"},A,c,l)}}]),t}(n.Component);M.defaultProps={interval:15e3};var S=function(e){var t=e.char,a=t.name,n=t.gender,A=t.born,c=t.died,l=t.culture;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Random Character: ",a),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender "),r.a.createElement("span",null,n)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born "),r.a.createElement("span",null,A)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died "),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Culture "),r.a.createElement("span",null,l))))},x=M,N=(a(56),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={itemList:null,error:!1},a.onError=function(e){a.setState({itemList:null,error:!0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then(function(t){e.setState({itemList:t})})}},{key:"componentDidCatch",value:function(){this.onError()}},{key:"renderItems",value:function(e){var t=this;return e.map(function(e){var a=e.key,n=t.props.renderItem(e);return r.a.createElement("li",{className:"list-group-item",key:a,onClick:function(){t.props.onItemSelected(a)}},n)})}},{key:"render",value:function(){if(this.state.error)return r.a.createElement(k,null);var e=this.state.itemList;if(!e)return r.a.createElement(G,null);var t=this.renderItems(e);return r.a.createElement("ul",{className:"item-list list-group"},t)}}]),t}(n.Component));N.defaultProps={onItemSelected:function(){}};var z=N,_=(a(58),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},n),r.a.createElement("span",null,t[a]))}),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={item:null,loading:!0,error:!1},a.onItemDetailsLoaded=function(e){a.setState({item:e,loading:!1})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItem()}},{key:"onError",value:function(){this.setState({error:!0,loading:!1})}},{key:"updateItem",value:function(){this.props.itemId&&(this.setState({loading:!0}),(0,this.props.getData)(this.props.itemId).then(this.onItemDetailsLoaded).catch(this.onError))}},{key:"render",value:function(){if(this.state.error)return r.a.createElement(k,null);if(!this.state.item)return r.a.createElement("span",{className:"select-error"}," Select an item");if(this.state.loading)return r.a.createElement("div",{className:"item-details rounded"},r.a.createElement(G,null));var e=this.state.item,t=e.name;return r.a.createElement("div",{className:"item-details rounded"},r.a.createElement("h4",null,t),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.Children.map(this.props.children,function(t){return r.a.cloneElement(t,{item:e})})))}}]),t}(n.Component),X=function(e){var t=e.left,a=e.right;return r.a.createElement(m.a,null,r.a.createElement(E.a,{md:"6"},t),r.a.createElement(E.a,{md:"6"},a))},H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new Y,a.state={selectedChar:130,error:!1},a.onItemSelected=function(e){a.setState({selectedChar:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){if(this.state.error)return r.a.createElement(k,null);var e=r.a.createElement(z,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllCharacters,renderItem:function(e){var t=e.name,a=e.gender;return"".concat(t," (").concat(a,")")}}),t=r.a.createElement(R,{itemId:this.state.selectedChar,getData:this.gotService.getCharacter},r.a.createElement(_,{field:"gender",label:"Gender"}),r.a.createElement(_,{field:"born",label:"Born"}),r.a.createElement(_,{field:"died",label:"Died"}),r.a.createElement(_,{field:"culture",label:"Culture"}));return r.a.createElement(X,{left:e,right:t})}}]),t}(n.Component),L=a(1),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new Y,a.state={error:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement(k,null):r.a.createElement(z,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllBooks,renderItem:function(e){var t=e.name;return"".concat(t)}})}}]),t}(n.Component),T=Object(L.e)(P),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new Y,a.state={selectedHouse:1,error:!1},a.onItemSelected=function(e){a.setState({selectedHouse:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){if(this.state.error)return r.a.createElement(k,null);var e=r.a.createElement(z,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllHouses,renderItem:function(e){var t=e.name;return"".concat(t)}}),t=r.a.createElement(R,{itemId:this.state.selectedHouse,getData:this.gotService.getHouse},r.a.createElement(_,{field:"region",label:"Region"}),r.a.createElement(_,{field:"words",label:"Words"}));return r.a.createElement(X,{left:e,right:t})}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new Y,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(R,{itemId:this.props.bookId,getData:this.gotService.getBook},r.a.createElement(_,{field:"publisher",label:"Publisher"}),r.a.createElement(_,{field:"country",label:"Country"}),r.a.createElement(_,{field:"numberOfPages",label:"Pages"}),r.a.createElement(_,{field:"mediaType",label:"Media type"}))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),A=0;A<n;A++)r[A]=arguments[A];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={randomCharIsShown:!0,error:!1},a.gotService=new Y,a.toggleRandomChar=function(){a.setState({randomCharIsShown:!a.state.randomCharIsShown})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.randomCharIsShown?r.a.createElement(x,null):null;return this.state.error?r.a.createElement(k,null):r.a.createElement(f.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(h.a,null,r.a.createElement(b,null)),r.a.createElement(h.a,null,r.a.createElement(m.a,null,r.a.createElement(E.a,{lg:{size:5,offset:0}},e,r.a.createElement("button",{className:"toggle-btn",onClick:this.toggleRandomChar},"Show Random Char Table"))),r.a.createElement(L.a,{path:"/",exact:!0,component:function(){return r.a.createElement("h1",null," Welcome")}}),r.a.createElement(L.a,{path:"/characters",component:H}),r.a.createElement(L.a,{path:"/houses",component:U}),r.a.createElement(L.a,{path:"/books",exact:!0,component:T}),r.a.createElement(L.a,{path:"/books/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(W,{bookId:t})}}))))}}]),t}(n.Component);a(60),a(62);c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[38,2,1]]]);
//# sourceMappingURL=main.7a21e49c.chunk.js.map